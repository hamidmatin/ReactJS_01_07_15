<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>

    <script>
      'use strict';
      const paragraphs = document.getElementsByTagName('p');
      let paragIndex = 0;

      class Student {
        constructor(firstName, lastName, age) {
          this.firstName = firstName;
          this.lastName = lastName;
          this.age = age;
        }

        fullName() {
          return `${this.firstName} ${this.lastName}, age = ${this.age}`;
        }
      }

      let st1 = new Student('Mostafa', 'Dastmalchi', 20);
      paragraphs[paragIndex++].innerHTML = st1.fullName();
      /**
       *
       *
       */
      st1.firstName = '';
      st1.age = -30;
      paragraphs[paragIndex++].innerHTML = st1.fullName();

      /*************************************/
      class StudentWithGetterMethod {
        firstName;
        lastName;
        age;
        constructor(firstName, lastName, age) {
          this.setFirstName(firstName);
          this.setLastName(lastName);
          this.setAge(age);
        }

        fullName() {
          return `${this.getFirstName()} ${this.getLastName()}, age = ${this.getAge()}`;
        }

        setAge(value) {
          if (value > 0) this.age = value;
          else throw 'Age is invalid';
        }
        getAge() {
          return this.age;
        }

        setFirstName(value) {
          if (value.trim() !== '') this.firstName = value.trim();
          else throw 'Firstname is required';
        }
        getFirstName() {
          return this.firstName;
        }

        setLastName(value) {
          if (value.trim() !== '') {
            this.lastName = value.trim();
          } else {
            throw 'Lastname is required';
          }
        }
        getLastName() {
          return this.lastName;
        }
      }

      let st2 = new StudentWithGetterMethod('Navid', 'Manouchehri', 20);
      // st2.setFirstName('');
      // st2.setAge(-30);
      st2.setAge(30);

      paragraphs[paragIndex++].innerHTML = st2.fullName();

      /*
        st1.age = 31 => set
        a = st1.age => get
      */

      class StudentWithGetSet {
        _firstName;
        _lastName;
        _age;
        constructor(firstName, lastName, age) {
          this.firstName = firstName;
          this.lastName = lastName;
          this.age = age;
        }

        /* readonly property */
        get fullName() {
          return `${this.firstName} ${this.lastName}, age = ${this.age}`;
        }

        set age(value) {
          if (value > 0) this._age = value;
          else throw 'Age is invalid';
        }
        get age() {
          return this._age;
        }

        set firstName(value) {
          if (value.trim() !== '') {
            this._firstName = value.trim();
          } else {
            throw 'Firstname is required';
          }
        }
        get firstName() {
          return this._firstName;
        }

        set lastName(value) {
          if (value.trim() !== '') {
            this._lastName = value.trim();
          } else {
            throw 'Lastname is required';
          }
        }
        get lastName() {
          return this._lastName;
        }
      }

      let st3 = new StudentWithGetSet('Mostafa', 'Dastmalchi', 30);
      // let st3 = new StudentWithGetSet('Mostafa', 'Dastmalchi', -30);
      paragraphs[paragIndex++].innerHTML = st3.fullName;

      // st3.fullName = 'sdshdjsk'

      st3.age = 31; // set
      // st3.age = -31
      // st3.lastName = '    '
      paragraphs[paragIndex++].innerHTML = st3.age; // get

      st3._firstName = '';
      st3._lastName = '    ';
      st3._age = -20;
      paragraphs[paragIndex++].innerHTML = st3.fullName;

      /***************/
      class StudentPrivate {
        /*  
          Private Members => start with #
          #property = value
          #property

          #method(params) { .... }
        */
        #firstName;
        #lastName;
        #age;
        constructor(firstName, lastName, age) {
          this.firstName = firstName;
          this.lastName = lastName;
          this.age = age;
        }

        /* readonly property */
        get fullName() {
          return `${this.firstName} ${this.lastName}, age = ${this.age}`;
        }

        set age(value) {
          if (value > 0) this.#age = value;
          else throw 'Age is invalid';
        }
        get age() {
          return this.#age;
        }

        set firstName(value) {
          if (value.trim() !== '') {
            this.#firstName = value.trim();
          } else {
            throw 'Firstname is required';
          }
        }
        get firstName() {
          return this.#firstName;
        }

        set lastName(value) {
          if (value.trim() !== '') {
            this.#lastName = value.trim();
          } else {
            throw 'Lastname is required';
          }
        }
        get lastName() {
          return this.#lastName;
        }
      }

      let st4 = new StudentPrivate('Mostafa', 'Dastmalchi', 30);
      // st4.#age = 20
      paragraphs[paragIndex++].innerHTML = st4.fullName;
      // st4.age = -31
      // st4.firstName = '   '

      st4.age = 31;
      paragraphs[paragIndex++].innerHTML = st4.fullName;
    </script>
  </body>
</html>
